{
	"info": {
		"_postman_id": "b793b2d6-c55d-4782-8f20-970552798e1a",
		"name": "Customer API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "47954375"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Send OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"mobile\": \"09999999999\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/send-otp",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"send-otp"
							]
						}
					},
					"response": []
				},
				{
					"name": "Verify OTP and Register",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": {{customer_id}},\n  \"otp\": \"380338\",\n  \"name\": \"Ali md\",\n  \"password\": \"secret123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/verify-otp-register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"verify-otp-register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Resend OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": {{customer_id}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/resend-otp",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"resend-otp"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"mobile\": \"09999123259\",\n    \"password\": \"secret123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"logout"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Location Data",
			"item": [
				{
					"name": "Get All Provinces",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/provinces",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"provinces"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Cities by Province",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/provinces/{{province_id}}/cities",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"provinces",
								"{{province_id}}",
								"cities"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Cities",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/cities",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"cities"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Customer Profile",
			"item": [
				{
					"name": "index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Ali Ahmad\",\n  \"email\": \"ali@example.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"profile"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Address Management",
			"item": [
				{
					"name": "index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/addresses",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"addresses"
							]
						}
					},
					"response": []
				},
				{
					"name": "store",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Home\",\n  \"province_id\": 1,\n  \"city_id\": 1,\n  \"district\": \"District 1\",\n  \"postal_code\": \"1234567890\",\n  \"address_line\": \"123 Main Street, Apt 4B\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/addresses",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"addresses"
							]
						}
					},
					"response": []
				},
				{
					"name": "show",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/addresses/{{address_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"addresses",
								"{{address_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Work\",\n  \"province_id\": 1,\n  \"city_id\": 2,\n  \"district\": \"District 2\",\n  \"postal_code\": \"0987654321\",\n  \"address_line\": \"456 Business Ave, Suite 10\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/addresses/{{address_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"addresses",
								"{{address_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "destroy",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/addresses/{{address_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"addresses",
								"{{address_id}}"
							],
							"query": [
								{
									"key": "",
									"value": null,
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Cart Management",
			"item": [
				{
					"name": "index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/cart",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"cart"
							]
						},
						"description": "Retrieve all cart items for the authenticated customer with totals summary."
					},
					"response": []
				},
				{
					"name": "store",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"product_id\": 11,\n  \"quantity\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/cart",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"cart"
							]
						},
						"description": "Add a new item to cart or update quantity if item already exists."
					},
					"response": []
				},
				{
					"name": "show",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/cart/{{cart_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"cart",
								"{{cart_id}}"
							]
						},
						"description": "Get details of a specific cart item by ID."
					},
					"response": []
				},
				{
					"name": "update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"quantity\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/cart/{{cart_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"cart",
								"{{cart_id}}"
							]
						},
						"description": "Update the quantity of a specific cart item."
					},
					"response": []
				},
				{
					"name": "destroy",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/cart/{{cart_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"cart",
								"{{cart_id}}"
							]
						},
						"description": "Remove a specific item from the cart."
					},
					"response": []
				}
			]
		},
		{
			"name": "Order Management",
			"item": [
				{
					"name": "index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"orders"
							]
						},
						"description": "Get all orders for the authenticated customer with pagination and payment info."
					},
					"response": []
				},
				{
					"name": "create",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"shipping_id\": {{shipping_id}},\n  \"address_id\": {{address_id}} \n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"orders"
							]
						},
						"description": "Create a new order from all cart items. This will create an invoice and automatically process payment."
					},
					"response": []
				},
				{
					"name": "show",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/orders/{{order_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"orders",
								"{{order_id}}"
							]
						},
						"description": "Get details of a specific order including order items, shipping information, and payment status."
					},
					"response": []
				},
				{
					"name": "retry payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/orders/{{order_id}}/retry-payment",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"orders",
								"{{order_id}}",
								"retry-payment"
							]
						},
						"description": "Retry payment for a failed order. This will create a new payment attempt."
					},
					"response": []
				},
				{
					"name": "payment status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/orders/{{order_id}}/payment-status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"orders",
								"{{order_id}}",
								"payment-status"
							]
						},
						"description": "Get detailed payment status for a specific order."
					},
					"response": []
				},
				{
					"name": "destroy",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/orders/{{order_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"orders",
								"{{order_id}}"
							]
						},
						"description": "Cancel/delete an order (this will change status to 'failed' and restore stock). Only works for unpaid orders."
					},
					"response": []
				}
			]
		},
		{
			"name": "Payment Management",
			"item": [
				{
					"name": "index",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"payments"
							]
						},
						"description": "Get all payments history for the authenticated customer with pagination."
					},
					"response": []
				},
				{
					"name": "show",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/payments/{{payment_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"payments",
								"{{payment_id}}"
							]
						},
						"description": "Get details of a specific payment including related invoice and order info."
					},
					"response": []
				},
				{
					"name": "process payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/customer/payments/process/{{invoice_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"payments",
								"process",
								"{{invoice_id}}"
							]
						},
						"description": "Manually process payment for a specific invoice. Usually done automatically during order creation."
					},
					"response": []
				},
				{
					"name": "verify payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transaction_id\": {{transaction_id}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/payments/verify",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"payments",
								"verify"
							]
						},
						"description": "Verify a payment using transaction ID (callback from bank)."
					},
					"response": []
				}
			]
		},
		{
			"name": "Bank Webhook (Public)",
			"item": [
				{
					"name": "payment webhook",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transaction_id\": {{transaction_id}},\n  \"status\": \"success\",\n  \"tracking_code\": \"123456789012\",\n  \"message\": \"Payment completed successfully\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/customer/payments/webhook",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customer",
								"payments",
								"webhook"
							]
						},
						"description": "Public webhook endpoint for bank payment callbacks. No authentication required."
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api"
		},
		{
			"key": "token",
			"value": ""
		},
		{
			"key": "cart_id",
			"value": ""
		},
		{
			"key": "address_id",
			"value": ""
		},
		{
			"key": "province_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "customer_id",
			"value": "",
			"type": "default"
		},
		{
			"key": "order_id",
			"value": "",
			"type": "default"
		},
		{
			"key": "payment_id",
			"value": "",
			"type": "default"
		},
		{
			"key": "invoice_id",
			"value": "",
			"type": "default"
		},
		{
			"key": "transaction_id",
			"value": "",
			"type": "default"
		},
		{
			"key": "shipping_id",
			"value": "",
			"type": "default"
		}
	]
}